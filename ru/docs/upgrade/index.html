<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml">
    <link rel="stylesheet" type="text/css" href="/css/app.css">


    <title>Руководство по обновлению | Orchid - Laravel Admin Panel</title>


<meta name="title" content="Руководство по обновлению | Orchid - Laravel Admin Panel">
<meta name="description" content="">





<meta property="og:type" content="website">
<meta property="og:url" content="https://orchid.software/ru/docs/upgrade"/>
<meta property="og:locale" content="ru"/>
<meta property="og:title" content="Руководство по обновлению | Orchid - Laravel Admin Panel"/>
<meta property="og:description" content="">
<meta property="og:image" content="">


<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:url" content="https://orchid.software/ru/docs/upgrade">
<meta name="twitter:title" content="Руководство по обновлению | Orchid - Laravel Admin Panel">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="">

    <link rel="alternate" href="https://orchid.software/ru/docs/upgrade/" hreflang="ru"/>
    <link rel="alternate" href="https://orchid.software/en/docs/upgrade/" hreflang="en"/>
    <link rel="alternate" href="https://orchid.software/en/docs/upgrade/" hreflang="x-default"/>

    <meta name="author" content="Alexandr Chernyaev">
    <meta property="og:site_name" content="Orchid - Laravel Admin Panel"/>
    <meta name="yandex-verification" content="23bb1990414a4f0e"/>
    <meta name="google-site-verification" content="EWv-U0_XG4_ck_eYWIAhKzyZeHWvow4EsYexXE1q0mc"/>
</head>
<body>


    <div class="bg-dark position-relative">

        <div class="container pt-md-4 pt-2 position-relative">
            <header class="d-flex flex-wrap align-items-center justify-content-center py-3 mb-4 px-4 position-relative">
                <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
    <img src="/img/next/logo-full.svg" class="logo">
</a>

<ul class="nav nav-pills mx-auto">
    <li class="nav-item"><a href="https://blog.orchid.software" class="nav-link">Blog</a></li>
    <li class="nav-item"><a href="https://github.com/orchidsoftware/platform/discussions" class="nav-link">Discussion</a></li>
    <li class="nav-item"><a href="https://github.com/orchidsoftware" class="nav-link">
            <svg width="1.5em" height="1.5em" viewBox="0 0 30 29" fill="currentColor"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M10.1367 23.0703C10.1367 22.9531 10.0195 22.8359 9.84375 22.8359C9.66797 22.8359 9.55078 22.9531 9.55078 23.0703C9.55078 23.1875 9.66797 23.3047 9.84375 23.2461C10.0195 23.2461 10.1367 23.1875 10.1367 23.0703ZM8.32031 22.7773C8.32031 22.8945 8.4375 23.0703 8.61328 23.0703C8.73047 23.1289 8.90625 23.0703 8.96484 22.9531C8.96484 22.8359 8.90625 22.7188 8.73047 22.6602C8.55469 22.6016 8.37891 22.6602 8.32031 22.7773ZM10.957 22.7188C10.7812 22.7188 10.6641 22.8359 10.6641 23.0117C10.6641 23.1289 10.8398 23.1875 11.0156 23.1289C11.1914 23.0703 11.3086 23.0117 11.25 22.8945C11.25 22.7773 11.0742 22.6602 10.957 22.7188ZM14.7656 0.21875C6.67969 0.21875 0.46875 6.42969 0.46875 14.5156C0.46875 21.0195 4.51172 26.5859 10.3711 28.5781C11.1328 28.6953 11.3672 28.2266 11.3672 27.875C11.3672 27.4648 11.3672 25.4727 11.3672 24.2422C11.3672 24.2422 7.26562 25.1211 6.38672 22.4844C6.38672 22.4844 5.74219 20.7852 4.80469 20.375C4.80469 20.375 3.45703 19.4375 4.86328 19.4375C4.86328 19.4375 6.32812 19.5547 7.14844 20.9609C8.4375 23.2461 10.5469 22.6016 11.4258 22.1914C11.543 21.2539 11.8945 20.6094 12.3633 20.1992C9.08203 19.8477 5.74219 19.3789 5.74219 13.7539C5.74219 12.1133 6.21094 11.3516 7.14844 10.2969C6.97266 9.88672 6.50391 8.36328 7.32422 6.3125C8.49609 5.96094 11.3672 7.89453 11.3672 7.89453C12.5391 7.54297 13.7695 7.42578 15 7.42578C16.2891 7.42578 17.5195 7.54297 18.6914 7.89453C18.6914 7.89453 21.5039 5.90234 22.7344 6.3125C23.5547 8.36328 23.0273 9.88672 22.9102 10.2969C23.8477 11.3516 24.4336 12.1133 24.4336 13.7539C24.4336 19.3789 20.9766 19.8477 17.6953 20.1992C18.2227 20.668 18.6914 21.5469 18.6914 22.9531C18.6914 24.8867 18.6328 27.3477 18.6328 27.8164C18.6328 28.2266 18.9258 28.6953 19.6875 28.5195C25.5469 26.5859 29.5312 21.0195 29.5312 14.5156C29.5312 6.42969 22.9102 0.21875 14.7656 0.21875ZM6.15234 20.4336C6.03516 20.4922 6.09375 20.668 6.15234 20.7852C6.26953 20.8438 6.38672 20.9023 6.50391 20.8438C6.5625 20.7852 6.5625 20.6094 6.44531 20.4922C6.32812 20.4336 6.21094 20.375 6.15234 20.4336ZM5.50781 19.9648C5.44922 20.082 5.50781 20.1406 5.625 20.1992C5.74219 20.2578 5.85938 20.2578 5.91797 20.1406C5.91797 20.082 5.85938 20.0234 5.74219 19.9648C5.625 19.9062 5.56641 19.9062 5.50781 19.9648ZM7.38281 22.0742C7.32422 22.1328 7.32422 22.3086 7.5 22.4258C7.61719 22.543 7.79297 22.6016 7.85156 22.4844C7.91016 22.4258 7.91016 22.25 7.79297 22.1328C7.67578 22.0156 7.5 21.957 7.38281 22.0742ZM6.73828 21.1953C6.62109 21.2539 6.62109 21.4297 6.73828 21.5469C6.85547 21.6641 6.97266 21.7227 7.08984 21.6641C7.14844 21.6055 7.14844 21.4297 7.08984 21.3125C6.97266 21.1953 6.85547 21.1367 6.73828 21.1953Z"/>
            </svg>
        </a>
    </li>


    <li class="nav-item d-none d-md-flex align-items-center px-3">
        <input class="form-control"
               type="search"
               name="search"
               id="docsearch"
               autocomplete="off"
               size="32"
               placeholder='Search the docs (Press "/" to focus)'
        >
    </li>

    
</ul>

<ul class="nav nav-pills ms-auto me-auto me-md-0">
    <li class="nav-item"><a href="https://orchid.software/en/docs" class="btn btn-outline-primary">Documentation</a></li>
</ul>
            </header>
        </div>
    </div>

    <div class="documentation position-relative mb-md-5 mt-md-4">

        <div class="container position-relative" id="docs">
            <div class="row g-0 m-0 px-0 rounded-3 overflow-hidden">

                <img src="/img/next/docs-left-tentacli.svg" class="d-none d-md-block pe-none position-absolute" style="
    left: -40.5em;
    height: 20em;
    z-index: 3;
    bottom: 35%;">
                <img src="/img/next/docs-right-tentacli.svg" class="d-none d-md-block pe-none position-absolute" style="
    right: -15em;
    width: 25em;
    z-index: -1;
    bottom: 20%">


                <div class="col-12 col-md-auto bg-grey py-md-3" style="background:#F9F9FE;z-index: 2">
                    <nav class="nav-docs px-md-5 py-2 px-3">
            <h4 class="font-weight-normal my-md-3 my-2 me-2 me-md-0" style="color: #22184D8C">Начало работы</h4>

        <ul>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs" class="text-decoration-none ">
                        Введение в проект
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/installation" class="text-decoration-none ">
                        Установка платформы
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/configuration" class="text-decoration-none ">
                        Обзор параметров
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 border-primary">
                    <a href="/ru/docs/upgrade" class="text-decoration-none text-primary">
                        Руководство по обновлению
                    </a>
                </li>
                    </ul>
            <h4 class="font-weight-normal my-md-3 my-2 me-2 me-md-0" style="color: #22184D8C">Учебные пособия</h4>

        <ul>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/quickstart" class="text-decoration-none ">
                        Быстрый старт
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/quickstart-crud" class="text-decoration-none ">
                        Управление данными
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/quickstart-files" class="text-decoration-none ">
                        Работа с файлами
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/quickstart-sort-filter-table" class="text-decoration-none ">
                        Сортировка и фильтрация
                    </a>
                </li>
                    </ul>
            <h4 class="font-weight-normal my-md-3 my-2 me-2 me-md-0" style="color: #22184D8C">Основные концепции</h4>

        <ul>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/screens" class="text-decoration-none ">
                        Экраны
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/field" class="text-decoration-none ">
                        Элементы формы
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/menu" class="text-decoration-none ">
                        Меню панели
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/access" class="text-decoration-none ">
                        Права доступа
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/filters" class="text-decoration-none ">
                        Фильтрация
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/attachments" class="text-decoration-none ">
                        Вложенные файлы
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/alert" class="text-decoration-none ">
                        Уведомления
                    </a>
                </li>
                    </ul>
            <h4 class="font-weight-normal my-md-3 my-2 me-2 me-md-0" style="color: #22184D8C">Макеты</h4>

        <ul>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/rows" class="text-decoration-none ">
                        Строки
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/table" class="text-decoration-none ">
                        Таблицы
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/charts" class="text-decoration-none ">
                        Графики
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/modals" class="text-decoration-none ">
                        Модальные окна
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/listener" class="text-decoration-none ">
                        Слушатель
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/grouping" class="text-decoration-none ">
                        Макеты группировки
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/custom-template" class="text-decoration-none ">
                        Универсальные
                    </a>
                </li>
                    </ul>
            <h4 class="font-weight-normal my-md-3 my-2 me-2 me-md-0" style="color: #22184D8C">Дополнительно</h4>

        <ul>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/presenters" class="text-decoration-none ">
                        Представители
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/global-search" class="text-decoration-none ">
                        Scout поиск
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/icons" class="text-decoration-none ">
                        Иконки
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/javascript" class="text-decoration-none ">
                        Использование JS
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/builder" class="text-decoration-none ">
                        Строитель форм
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/ru/docs/brand" class="text-decoration-none ">
                        Брендирование
                    </a>
                </li>
                    </ul>
    </nav>
                </div>
                <div class="col-12 col-md me-auto bg-white py-md-3">
                    <main class="py-2 px-3 py-md-4 px-md-4 text-wrap text-break ms-md-4 me-md-auto order-md-first">
                        <div class="d-flex align-items-center mb-3 mt-3">
                            <h1 class="me-3">Руководство по обновлению</h1>

                            <a href="https://github.com/orchidsoftware/orchid.software/edit/master/docs/ru/docs/upgrade.md" class="text-muted ms-auto d-none d-md-flex align-items-center text-decoration-none">
                                <svg class="me-2" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32" fill="currentColor">
                                    <path d="M30.133 1.552c-1.090-1.044-2.291-1.573-3.574-1.573-2.006 0-3.47 1.296-3.87 1.693-0.564 0.558-19.786 19.788-19.786 19.788-0.126 0.126-0.217 0.284-0.264 0.456-0.433 1.602-2.605 8.71-2.627 8.782-0.112 0.364-0.012 0.761 0.256 1.029 0.193 0.192 0.45 0.295 0.713 0.295 0.104 0 0.208-0.016 0.31-0.049 0.073-0.024 7.41-2.395 8.618-2.756 0.159-0.048 0.305-0.134 0.423-0.251 0.763-0.754 18.691-18.483 19.881-19.712 1.231-1.268 1.843-2.59 1.819-3.925-0.025-1.319-0.664-2.589-1.901-3.776zM22.37 4.87c0.509 0.123 1.711 0.527 2.938 1.765 1.24 1.251 1.575 2.681 1.638 3.007-3.932 3.912-12.983 12.867-16.551 16.396-0.329-0.767-0.862-1.692-1.719-2.555-1.046-1.054-2.111-1.649-2.932-1.984 3.531-3.532 12.753-12.757 16.625-16.628zM4.387 23.186c0.55 0.146 1.691 0.57 2.854 1.742 0.896 0.904 1.319 1.9 1.509 2.508-1.39 0.447-4.434 1.497-6.367 2.121 0.573-1.886 1.541-4.822 2.004-6.371zM28.763 7.824c-0.041 0.042-0.109 0.11-0.19 0.192-0.316-0.814-0.87-1.86-1.831-2.828-0.981-0.989-1.976-1.572-2.773-1.917 0.068-0.067 0.12-0.12 0.141-0.14 0.114-0.113 1.153-1.106 2.447-1.106 0.745 0 1.477 0.34 2.175 1.010 0.828 0.795 1.256 1.579 1.27 2.331 0.014 0.768-0.404 1.595-1.24 2.458z"></path>
                                </svg>
                                Edit page
                            </a>
                        </div>

                        
                        <div class="anchors">
            <ul>
                            <li class="anchor-h2">
                    <a href="#obnovlenie-do-100-s-9x">Обновление до 10.0 с 9.x</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#obnovlenie-zavisimostei">Обновление зависимостей</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#menyu">Меню</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#cansee">CanSee</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#stimulus">Stimulus</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#turbo">Turbo</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#compendium">Compendium</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#collapse">Collapse</a>
                </li>
                            <li class="anchor-h2">
                    <a href="#obnovlenie-do-90-s-8x">Обновление до 9.0 с 8.x</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#obnovlenie-zavisimostei">Обновление зависимостей</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#auth">Auth</a>
                </li>
                            <li class="anchor-h2">
                    <a href="#obnovlenie-do-80-s-7x">Обновление до 8.0 с 7.x</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#obnovlenie-zavisimostei">Обновление зависимостей</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#redaktor-tinymce">Редактор TinyMCE</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#model-nastroek">Модель настроек</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#xlebnye-kroski">Хлебные крошки</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#izmeneniya-ekrana">Изменения экрана</a>
                </li>
                            <li class="anchor-h4">
                    <a href="#konstruktor">Конструктор</a>
                </li>
                            <li class="anchor-h4">
                    <a href="#metody-marsruta">Методы маршрута</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#podmena-dannyx-async">Подмена данных (Async)</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#izmeneniya-sloyov">Изменения слоёв</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#soobshhenie-o-relize">Сообщение о релизе</a>
                </li>
                            <li class="anchor-h3">
                    <a href="#ikonki">Иконки</a>
                </li>
                    </ul>
    </div>
                        <blockquote>
<p>Мы пытаемся задокументировать все возможные критические изменения. Некоторые из этих изменений относятся к внутренним обращениям, поэтому только часть этих изменений может фактически повлиять на ваше приложение.</p>
</blockquote>
<h2><a href='#obnovlenie-do-100-s-9x' id='obnovlenie-do-100-s-9x'>Обновление до 10.0 с 9.x</a></h2>
<h3><a href='#obnovlenie-zavisimostei' id='obnovlenie-zavisimostei'>Обновление зависимостей</a></h3>
<p>В вашем файле <code>composer.json</code> обновите зависимость <code>orchid/platform</code> до <code>^10.0</code></p>
<h3><a href='#menyu' id='menyu'>Меню</a></h3>
<p>Разделы меню были сокращены,  &quot;системное меню&quot; было удалено. Константы теперь в классе <code>Orchid\Platform\Dashboard</code>.</p>
<pre><code class="language-php">use Orchid\Platform\Dashboard;

Dashboard::MENU_MAIN;
Dashboard::MENU_PROFILE;
</code></pre>
<p>Меню теперь являются классами <code>Field</code> и имеют унифицированный синтаксис. До:</p>
<pre><code class="language-php">ItemMenu::label('Example screen')
    -&gt;icon('monitor')
    -&gt;route('platform.example')
    -&gt;title('Navigation')
    -&gt;badge(function () {
        return 6;
    });
</code></pre>
<p>После:</p>
<pre><code class="language-php">use Orchid\Screen\Actions\Menu;

Menu::make('Example screen')
    -&gt;icon('monitor')
    -&gt;route('platform.example')
    -&gt;title('Navigation')
    -&gt;badge(function () {
        return 6;
    });
</code></pre>
<p>Как видите, обновление должно быть очень мягким.
Но отличия также будут, например, написание вложенных элементов будет более наглядным:</p>
<p>До:</p>
<pre><code class="language-php">ItemMenu::label('Dropdown menu')
    -&gt;slug('example-menu')
    -&gt;icon('code')
    -&gt;withChildren(),

ItemMenu::label('Sub element item 1')
    -&gt;place('example-menu')
    -&gt;icon('bag'),

ItemMenu::label('Sub element item 2')
    -&gt;place('example-menu')
    -&gt;icon('heart'),
</code></pre>
<p>После:</p>
<pre><code class="language-php">Menu::make('Dropdown menu')
    -&gt;icon('code')
    -&gt;list([
        Menu::make('Sub element item 1')-&gt;icon('bag'),
        Menu::make('Sub element item 2')-&gt;icon('heart'),
    ]),
</code></pre>
<p>Значение по умолчанию для сортировки изменено с 1000 на 0:</p>
<pre><code class="language-php">Menu::make('Example screen')
    -&gt;icon('monitor')
    -&gt;route('platform.example')
    -&gt;title('Navigation')
    -&gt;sort(2),
</code></pre>
<p>Это также верно для вложенных элементов:</p>
<pre><code class="language-php">Menu::make('Dropdown menu')
    -&gt;icon('code')
    -&gt;list([
        Menu::make('Sub element item 1')-&gt;icon('bag')-&gt;sort(2),
        Menu::make('Sub element item 2')-&gt;icon('heart')-&gt;sort(0),
    ]),
</code></pre>
<p>Для динамического определения вам нужно вызвать метод <code>slug</code>, в котором передается уникальная строка:</p>
<pre><code class="language-php">Menu::make('Dropdown menu')
    -&gt;slug('sub-menu')
    -&gt;icon('code')
    -&gt;list([
        Menu::make('Sub element item 1')-&gt;icon('bag'),
        Menu::make('Sub element item 2')-&gt;icon('heart'),
    ]),
</code></pre>
<p>Что бы добавить новые элементы динамически:</p>
<pre><code class="language-php">Dashboard::addMenuSubElements(Dashboard::MENU_MAIN, 'sub-menu', [
   Menu::make('Sub element item 3')-&gt;icon('badge')
]);
</code></pre>
<blockquote>
<p><strong>Внимание.</strong> Нужно соблюдать порядок загрузки.</p>
</blockquote>
<h3><a href='#cansee' id='cansee'>CanSee</a></h3>
<p>Теперь у <code>Fields/Layouts/TD</code> есть общий trait. Теперь вы можете это сделать:</p>
<pre><code class="language-php">Input::make()-&gt;canSee(false);
TD::make()-&gt;canSee(false);
Layout::rows([])-&gt;canSee(false);
</code></pre>
<p>Но теперь определение внутри слоя другое:</p>
<pre><code class="language-php">// before
public function canSee(Repository $query): bool
{
    return ...;
}

// after
public function isSee(): bool
{
    return ...;
}
</code></pre>
<h3><a href='#stimulus' id='stimulus'>Stimulus</a></h3>
<p>Фреймворк Stimulus обновлен до версии 2.0. Обратная совместимость сохранена, но в именах контроллеров избавлены от префиксов:</p>
<pre><code class="language-js">&lt;!--  before: --&gt;
&lt;div data-controller=&quot;fields--checkbox&quot;&gt;

&lt;!--  after: --&gt;
&lt;div data-controller=&quot;checkbox&quot;&gt;
</code></pre>
<h3><a href='#turbo' id='turbo'>Turbo</a></h3>
<p>Библиотека Turbolinks была обновлена до Turbo, подробнее здесь: <a href="https://turbo.hotwire.dev/">https://turbo.hotwire.dev/</a></p>
<p>Если вы использовали собственные js-скрипты, то рекомендуется ознакомиться с их изменениями. Например:</p>
<pre><code class="language-js">// before
document.addEventListener(&quot;turbolinks:load&quot;, function() {
    // ...
})

// after
document.addEventListener(&quot;turbo:load&quot;, function() {
  // ...
})
</code></pre>
<h3><a href='#compendium' id='compendium'>Compendium</a></h3>
<p>Класс <code>Compendium</code> был удален. Рекомендую использовать более новую версию <code>Legend</code>.</p>
<h3><a href='#collapse' id='collapse'>Collapse</a></h3>
<p>Класс <code>Collapse</code> был удален.</p>
<h2><a href='#obnovlenie-do-90-s-8x' id='obnovlenie-do-90-s-8x'>Обновление до 9.0 с 8.x</a></h2>
<h3><a href='#obnovlenie-zavisimostei' id='obnovlenie-zavisimostei'>Обновление зависимостей</a></h3>
<p>В вашем файле <code>composer.json</code> обновите зависимость <code>orchid/platform</code> до <code>^9.0</code></p>
<h3><a href='#auth' id='auth'>Auth</a></h3>
<p>Команда Laravel представила новые продукты <a href="https://github.com/laravel/jetstream">Jetstream</a> и  <a href="https://github.com/laravel/fortify">Fortify</a>, которые пришли на смену более раннему <a href="https://github.com/laravel/ui">laravel/ui</a>. Чтобы обеспечивать совместимость с различными вариантами, зависимость от <code>laravel/ui</code> была удалена. А вместе с ней возможность восстановления пароля.</p>
<p>Новые продукты предоставляют двухфакторную аутентификацию пользователя, а также просмотр последних активных сессий.
Чтобы не конкурировать с ними, такие же возможности были удалены из пакета.</p>
<p>Хотя миграции были удалены, данные, хранящиеся в базе данных, не будут удалены автоматически.
Для их удаления необходимо выполнить следующий <code>SQL</code> код:</p>
<pre><code class="language-php">ALTER TABLE &quot;users&quot;
    DROP COLUMN &quot;last_login&quot;
    DROP COLUMN &quot;uses_two_factor_auth&quot;
    DROP COLUMN &quot;two_factor_secret_code&quot;
    DROP COLUMN &quot;two_factor_recovery_code&quot;;

DELETE FROM migrations
WHERE migration = '2020_06_07_184338_added_columns_for_2fa';
</code></pre>
<p>После этого необходимо удалить данные колонки из вашей модели пользователя.</p>
<p>Если вы копировали миграцию <code>2020_06_07_184338_added_columns_for_2fa</code> к себе в проект, не забудьте ее тоже удалить.</p>
<hr />
<h2><a href='#obnovlenie-do-80-s-7x' id='obnovlenie-do-80-s-7x'>Обновление до 8.0 с 7.x</a></h2>
<h3><a href='#obnovlenie-zavisimostei' id='obnovlenie-zavisimostei'>Обновление зависимостей</a></h3>
<p>В вашем файле <code>composer.json</code> обновите зависимость <code>orchid/platform</code> до <code>^8.0</code></p>
<h3><a href='#redaktor-tinymce' id='redaktor-tinymce'>Редактор TinyMCE</a></h3>
<p><code>Html</code> редактор был удалён из стандартной поставки. Код был перенесён в отдельный <a href="https://github.com/orchidcommunity/TinyMCE">репозиторий</a>.</p>
<h3><a href='#model-nastroek' id='model-nastroek'>Модель настроек</a></h3>
<p>Модель настроек так же была удалена. Данные, хранящиеся в базе данных, не будут удалены автоматически.
Для их удаления необходимо выполнить следующий <code>SQL</code> код:</p>
<pre><code class="language-php">DROP TABLE settings;

DELETE FROM migrations
WHERE migration = '2015_12_02_181214_create_table_settings';
</code></pre>
<p>Если вы копировали миграцию <code>2015_12_02_181214_create_table_settings</code> к себе в проект, не забудьте ее тоже удалить.</p>
<p>Исходный код доступен для установки в качестве отдельного <a href="https://github.com/tabuna/settings">пакета</a>.</p>
<h3><a href='#xlebnye-kroski' id='xlebnye-kroski'>Хлебные крошки</a></h3>
<p>Пакет <code>davejamesmiller/laravel-breadcrumbs</code> заменён на  <code>tabuna/breadcrumbs</code>
и должен быть установлен автоматически при обновлении зависимостей.</p>
<blockquote>
<p><strong>Примечание.</strong> Может потребоваться удаление загрузочных файлов кэша в директории <code>bootstrap/cache</code>.</p>
</blockquote>
<p>Синтаксис нового пакета позволяет показывать хлебные крошки прямо в определении маршрута:</p>
<pre><code class="language-php">Route::screen('example', ExampleScreen::class)
    -&gt;name('platform.example')
    -&gt;breadcrumbs(function (Trail $trail) {
        return $trail-&gt;parent('platform.index')-&gt;push(__('Example screen'));
    });
</code></pre>
<p>Так же, вы можете продолжить использовать отдельный файл для них.
Для этого, необходимо загрузить его в сервис провайдере:</p>
<pre><code class="language-php">namespace App\Providers;

use Illuminate\Support\ServiceProvider;

class AppServiceProvider extends ServiceProvider
{
    /**
     * Bootstrap the application events.
     *
     * @return void
     */
    public function boot()
    {
        require base_path('routes/breadcrumbs.php');
    }
}
</code></pre>
<p>Если вы использовали полные имена классов, то необходимо произвести замену на аналогичные:</p>
<pre><code class="language-php">use Tabuna\Breadcrumbs\Breadcrumbs;
use Tabuna\Breadcrumbs\Trail;
</code></pre>
<h3><a href='#izmeneniya-ekrana' id='izmeneniya-ekrana'>Изменения экрана</a></h3>
<h4><a href='#konstruktor' id='konstruktor'>Конструктор</a></h4>
<p>В передаче объекта <code>Request</code> и вызова родительского класса больше нет необходимости. До:</p>
<pre><code class="language-php">class PublicationScreen extends Screen
{
    public function __construct(Request $request, Locator $locator)
    {
        $this-&gt;request = $request;
        $this-&gt;locator = $locator;
    }
}
</code></pre>
<p>Определение теперь выглядит так:</p>
<pre><code class="language-php">class PublicationScreen extends Screen
{
    public function __construct(Locator $locator)
    {
        $this-&gt;locator = $locator;
    }
}
</code></pre>
<h4><a href='#metody-marsruta' id='metody-marsruta'>Методы маршрута</a></h4>
<p>Не использованные методы были удалены. Больше нельзя обратиться к экранам через методы <code>PUT|PATCH|DELETE</code>, обращение должно использовать <code>GET|POSTS</code> для получения/отправки данных.</p>
<pre><code class="language-php">Method           | URI                                  | Name
-----------------+--------------------------------------+--------------
GET|HEAD|POST    | dashboard/idea/{method?}             | platform.idea
</code></pre>
<p>Теперь методы экрана, ожидающие модели, при их отсутствии будут реализовывать пустую модель так же, как и контроллеры. <a href="https://github.com/orchidsoftware/platform/issues/1150">Подробнее</a>.</p>
<h3><a href='#podmena-dannyx-async' id='podmena-dannyx-async'>Подмена данных (Async)</a></h3>
<p>Ожидание <code>{argument?}</code> было удалено из адресной строки.
Теперь для обращения используется отдельный маршрут:</p>
<pre><code class="language-php">$this-&gt;router
    -&gt;post('async/{screen}/{method?}/{template?}', [AsyncController::class, 'load'])
    -&gt;name('async');
</code></pre>
<h3><a href='#izmeneniya-sloyov' id='izmeneniya-sloyov'>Изменения слоёв</a></h3>
<p>Каждый слой теперь наследуется от класса <code>Orchid\Screen\Layout</code>, а не от <code>Orchid\Screen\Layouts\Base</code>.</p>
<p>Для объявления слоёв через короткий синтаксис теперь должен использоваться фасад <code>Orchid\Support\Facades\Layout</code> вместо класса <code>Orchid\Screen\Layout</code>.</p>
<p>Было:</p>
<pre><code class="language-php">use Orchid\Screen\Layout;

Layout::row([
     // ...
]);
</code></pre>
<p>Стало:</p>
<pre><code class="language-php">use Orchid\Support\Facades\Layout;

Layout::row([
     // ...
]);
</code></pre>
<h3><a href='#soobshhenie-o-relize' id='soobshhenie-o-relize'>Сообщение о релизе</a></h3>
<p>Системное сообщение проинформировало пользователей о выпуске новой версии пакета. Но у них нет возможности обновиться без помощи разработчика.
Это раздражало больше, чем поддерживало программное обеспечение в актуальном состоянии. По этому он был удалён, если вы использовали его (По умолчанию только на первом экране), то следует удалить его вызов так же как и <code>blade</code> шаблон. Пример вызова в экране:</p>
<pre><code class="language-php">return [
    'status' =&gt; Dashboard::checkUpdate(),
];
</code></pre>
<p>Использование шаблона в экране:</p>
<pre><code class="language-php">Layout::view('platform::partials.update');
</code></pre>
<h3><a href='#ikonki' id='ikonki'>Иконки</a></h3>
<p>Отображение иконок было переработано с <code>font</code> на <code>SVG</code> формат.
Теперь методы <code>-&gt;icon</code> принимают не значение <code>css</code> которое необходимо установить, а название файла.
В большинстве случаев необходимо только убрать префикс <code>icon-</code>.</p>

                    </main>
                </div>
            </div>
        </div>
    </div>





<div class="footer bg-dark">
    <div class="container">
        <div class="row">

            <div class="col-md-5 footer-tentacles"></div>

            <div class="col-12 col-md-7 text-center text-md-start">
                <div class="px-md-4 py-md-5 my-md-5 py-5 px-3">
                    <h1 class="display-4 fw-bold mb-5">
                        And one more <span class="text-primary">thing.</span>
                    </h1>
                    <div class="col-lg-7 me-md-auto ms-md-0 mx-auto">
                        <p class="mb-0">
                            <a href="https://github.com/orchidsoftware/platform/discussions"
                               class="btn btn-outline-primary mb-3">Discussion</a>
                            <a href="https://blog.orchid.software" type="button" class="btn btn-outline-primary mb-3">Blog</a>
                            <a href="https://opencollective.com/orchid"
                               class="btn btn-outline-primary mb-3">Donation</a>
                        </p>
                        <p>
                            <a href="https://github.com/orchidsoftware" class="btn btn-outline-primary mb-3">GitHub</a>
                            <a href="https://t.me/orchid_community" class="btn btn-outline-primary mb-3">Telegram</a>
                            <a href="https://twitter.com/orchid_platform"
                               class="btn btn-outline-primary mb-3">Twitter</a>
                            <a href="https://discord.gg/aEVdGMyRt4" class="btn btn-outline-primary mb-3">Discord</a>
                        </p>
                    </div>
                    <small class="mt-5 mb-0">
                        <a href="/en/docs" class="text-muted">English</a>  /
                        <a href="/ru/docs" class="text-white">Russian</a>
                    </small>
                </div>
            </div>

        </div>
    </div>
</div>

<script src="/js/app.js"></script>

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript" async> (function (d, w, c) {
            (w[c] = w[c] || []).push(function () {
                try {
                    w.yaCounter42925369 = new Ya.Metrika2({
                        id: 42925369,
                        clickmap: true,
                        trackLinks: true,
                        accurateTrackBounce: true,
                        webvisor: true,
                        trackHash: true
                    });
                } catch (e) {
                }
            });
            var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () {
                n.parentNode.insertBefore(s, n);
            };
            s.type = "text/javascript";
            s.async = true;
            s.src = "https://mc.yandex.ru/metrika/tag.js";
            if (w.opera == "[object Opera]") {
                d.addEventListener("DOMContentLoaded", f, false);
            } else {
                f();
            }
        })(document, window, "yandex_metrika_callbacks2"); </script>
    <noscript>
        <div><img src="https://mc.yandex.ru/watch/42925369" style="position:absolute; left:-9999px;" alt=""/></div>
    </noscript> <!-- /Yandex.Metrika counter -->

    <script async>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-39757298-4', 'auto');
        ga('send', 'pageview');
    </script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
    if (window.document.getElementById('docsearch')) {
        docsearch({
            apiKey: 'afc2a7f7d4f201489dcd8c4f0f40bde2',
            indexName: 'orchid_software',
            inputSelector: '#docsearch',
            algoliaOptions: {'facetFilters': ["lang:" + document.documentElement.lang]},
            debug: true
        });
        document.addEventListener('keydown', (e) => {
            if (e.keyCode == 191) {
                document.getElementById('docsearch').focus();
                e.preventDefault()
            }
            if (e.keyCode == 27) {
                document.getElementById('docsearch').blur();
                e.preventDefault()
            }
        })
    }
</script>

</body>
</html>
